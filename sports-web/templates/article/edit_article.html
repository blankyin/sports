{% extends "layout.html"  %}

{% block title%}{{super()}}编辑文章{% endblock%}

{% block style %}
	{{ super() }}
	<link rel="stylesheet" type="text/css" href="/static/third/bootstrap-wysihtml5/bootstrap-wysihtml5.css"></link>
	<link rel="stylesheet" type="text/css" href="/static/css/article.css"></link>
{% endblock %}

{% block script %}
	{{ super() }}
	<script src="/static/js/article.js" type="text/javascript"></script>

	<script src="/static/third/bootstrap-wysihtml5/libs/js/wysihtml5.js" type="text/javascript"></script>
	<script src="/static/third/bootstrap-wysihtml5/bootstrap-wysihtml5.js" type="text/javascript"></script>
	<!-- Validate plugin -->
	<script src="/static/third/jquery-ui-bootstrap/js/jquery.validate.min.js"></script>
{% endblock %}

{% block pageHeader %}
<div class="page-header">
    <h1>{{article.article_title}}</h1>
</div>
{% endblock %}

{% block content %}

<div>
	<form class="form-horizontal" id="article_form" method="post">
		<input type="hidden" name="article_id" value="{{ article.article_id }}" >
  		<div class="control-group">
	    	<label class="control-label" for="inputUsername">文章标题</label>
	    	<div class="controls">
	      		<input type="text" class="input-xxlarge" value="{{article.article_title}}" id="article_title" name="article_title" placeholder="文章标题">
	    	</div>
	  	</div>
	  	<div class="control-group">
	    	<label class="control-label" for="inputPassword">文章内容</label>
	    	<div class="controls">
	      		<textarea id="article_content" name="article_content" class="textarea" placeholder="输入文章内容 ..." style="width: 810px; height: 500px">{{ article.article_content }}</textarea>

	      		<label class="error" id="article_content_error" for="article_content" style="display:none"> 请输入文章内容 </label>
	    	</div>
	  	</div>
	  	<div class="control-group">
	    	<label class="control-label" for="inputPassword">文章标签</label>
	    	<div class="controls">
	      		<input type="text" class="input-xxlarge" value="{{ tags }}" id="tags" name="tags" placeholder="文章标签">
	      		<br>（最多添加5个标签，多个标签之间用“,”分隔） 
	    	</div>
	  	</div>
	  	<div class="control-group">
	    	<label class="control-label" for="inputPassword">文章分类</label>
	    	<div class="controls">
	      		{% for category in categorys %}
			      	<label class="checkbox inline">
						<input type="checkbox" id="categorys" {% if category.id in select_categorys %} checked{% endif %} name="categorys" value="{{category.id}}">  {{category.name}}
					</label>
	      		{% endfor %}
	    	</div>
	  	</div>
	  	<div class="control-group">
	    	<div class="controls">
	      		<button type="submit" id="add_article_button" class="btn btn-primary">发表文章</button>
	    	</div>
	  	</div>
	</form>
</div>

{% endblock %}


{% block script_end %}
    <script>
        $('#article_content').wysihtml5({
		  	"stylesheets": [
		  		"/static/third/bootstrap-wysihtml5/libs/css/wysiwyg-color.css", 
		  		"/static/third/bootstrap-wysihtml5/libs/css/highlight/github.css"], // CSS stylesheets to load
		  	"color": true, // enable text color selection
		  	"size": 'small', // buttons size
		  	"html": true, // enable button to edit HTML
		  	"format-code" : true // enable syntax highlighting
		});
    </script>
{% endblock %}